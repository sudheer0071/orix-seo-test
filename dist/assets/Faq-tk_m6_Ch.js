import{g as z,s as G,a as i,j as e}from"./index-BYROHmHR.js";import{D as R,E as H,G as U,T as Q,f as p,d as J}from"./Layout-B7AtAuba.js";const v="/assets/search-icon-bL1OKXp7.png",_=async({categoryname:h,subcategoryname:x,keyword:d})=>{try{const c=`${R}/api/faqs/faqs-list?categoryname=${`${h||""}`}&subcategoryname=${x||""}&keyword=${d||""}`,m=await(await fetch(c)).json();return(m==null?void 0:m.data)||[]}catch(c){return console.error("Error fetching FAQs:",c),[]}},K=async h=>{try{const x=`${R}/api/faqs/front-faq-search?keyword=${encodeURIComponent(h)}`,c=await(await fetch(x)).json();return(c==null?void 0:c.data)||[]}catch(x){return console.error("Error searching FAQs:",x),[]}};var X=H();const Z=z(X);function ee(h){return U({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(h)}const ie=()=>{var T,I,E,L;const{cat:h,sub:x}=G(),[d,c]=i.useState(h||""),[u,m]=i.useState(x||""),[D,C]=i.useState(""),[n,b]=i.useState([]),[o,g]=i.useState(""),[f,k]=i.useState(""),[V,S]=i.useState(!1),[W,j]=i.useState(!1),[se,te]=i.useState(!1),[B,F]=i.useState(!1),[y,A]=i.useState("q0"),M=s=>{A(t=>t===s?null:s)},$=Z(async s=>{if(s.trim()!==""){const t=await K(s);b(t)}else{const t=await _({categoryname:d,subcategoryname:u});c(t.selectedCategory),m(t.selectedSubCategory),C(t.selectedSubCategoryLinks.post_link),b(t)}},500);i.useEffect(()=>($(o),$.cancel),[o]);const N=(s,t,l="")=>{_({categoryname:s,subcategoryname:t,keyword:l}).then(r=>{var a;c(r.selectedCategory),m(r.selectedSubCategory),C(r.selectedSubCategoryLinks.post_link),b(r),((a=r==null?void 0:r.faqlisting)==null?void 0:a.length)>0&&A("q0")})};i.useEffect(()=>{N(d,u,f)},[d,u]);const q=(s,t,l)=>{S(!0),k(l),N(s,t,o)},O=()=>{F(!0),g(""),S(!1),k(""),N(d,u,f),setTimeout(()=>F(!1),600)},P={hidden:{},show:{transition:{staggerChildren:.1}}},Y=(s,t,l)=>V?e.jsxs("div",{children:[e.jsx("button",{className:"accordion-toggle",children:e.jsx("span",{children:t})}),e.jsx("div",{className:"accordion-content",children:l})]},s):e.jsxs("div",{className:`accordion-item ${y===s?"open":""}`,children:[e.jsxs("button",{className:"accordion-toggle",onClick:()=>M(s),children:[e.jsx("span",{children:t}),e.jsx("span",{className:"accordion-icon",children:y===s?"–":"+"})]}),y===s&&e.jsx("div",{className:"accordion-content",children:l})]},s);return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"faq-banner mt-5 pt-5",children:e.jsx("div",{className:"container py-md-5",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs(Q,{as:"h2",className:"light-blue faq-title fw-bold display-1 lh-0 py-2 title-space",children:["Frequently Asked ",e.jsx("br",{}),e.jsx("span",{className:"Crimson ",children:"Questions"})]})})})})}),e.jsx("section",{className:"faq-parellex pb-5",children:e.jsx("div",{className:"container pb-md-5",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"faq-wrapper",children:[e.jsx(p.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.6,ease:"easeOut"},className:"tabs position-relative d-none d-md-flex",children:W?e.jsx("div",{className:"faq-search-overlay",onClick:()=>j(!1),children:e.jsxs("div",{className:"faq-inline-search-container",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"faq-inline-search bg-white p-3  d-flex align-items-center w-75 mx-auto",children:[e.jsx("input",{type:"text",placeholder:"What Are You Looking For?",className:"form-control",value:o,onChange:s=>g(s.target.value),autoFocus:!0}),e.jsx("button",{className:"faq-compact-icon ms-2 btn btn-light",onClick:()=>j(!1),children:e.jsx("img",{className:"img-fluid search-icon",src:v,alt:"Close"})})]}),o!==""&&e.jsx("div",{className:"bg-white p-3 w-75 mx-auto searchContainer",style:{maxHeight:"70vh",overflowY:"auto"},children:(n==null?void 0:n.length)>0?n.map((s,t)=>s.subcategory.map((l,r)=>l.faqdata.map((a,w)=>e.jsx("div",{className:"bg-white p-3 d-flex  mx-auto searchContainer",onClick:()=>{q(a.categoryname,a.subcategoryname,a.title),j(!1)},children:e.jsxs("div",{className:"d-flex justify-content-between w-100 align-items-start",children:[e.jsx("div",{className:"pe-3",children:e.jsx("span",{className:"mb-2 fw-semibold",children:a.title})}),e.jsxs("div",{className:"text-muted d-flex align-items-center gap-2 text-end",children:[e.jsx("span",{children:a.categoryname}),e.jsx("span",{children:"|"}),e.jsx("span",{children:a.subcategoryname})]})]})},`${t}-${r}-${w}`)))):e.jsx(e.Fragment,{children:e.jsx("span",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:"No Data Found"})})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"tabs-buttons",children:(T=n.categorylist)==null?void 0:T.map(s=>{const t=s.title;return e.jsx("button",{onClick:()=>{c(t),m("")},className:d===t?"active":"",children:s.title},s._id)})}),e.jsx("div",{className:"faq-compact-search ms-auto",children:e.jsx("button",{className:"faq-compact-icon",onClick:()=>{g(""),j(!0)},children:e.jsx("img",{className:"img-fluid search-icon",src:v,alt:"Search"})})})]})}),e.jsxs(p.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.6,ease:"easeOut"},className:"tabss position-relative d-block d-md-none",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control border-0 fw-semibold",placeholder:"Search",value:o,onChange:s=>g(s.target.value),"aria-label":"Search"}),e.jsx("span",{className:"border-0",children:e.jsx("img",{className:"img-fluid search-icon",src:v})})]}),o.trim()!==""&&(n==null?void 0:n.length)>0&&n.map((s,t)=>s.subcategory.map((l,r)=>l.faqdata.filter(a=>a.title.toLowerCase().includes(o.toLowerCase())).map((a,w)=>e.jsx("div",{className:"bg-white p-3 d-flex mx-auto searchContainer",onClick:()=>{q(a.categoryname,a.subcategoryname,a.title)},children:e.jsxs("div",{className:"d-flex justify-content-between w-100 align-items-start",children:[e.jsx("div",{className:"pe-3",children:e.jsx("span",{className:"mb-2 fw-semibold",children:a.title})}),e.jsxs("div",{className:"text-muted d-flex align-items-center gap-2 text-end",children:[e.jsx("span",{children:a.categoryname}),e.jsx("span",{children:"|"}),e.jsx("span",{children:a.subcategoryname})]})]})},`${t}-${r}-${w}`)))),e.jsx("select",{value:d,onChange:s=>{const t=s.target.value;c(t),m("")},className:"dropdown my-4 w-100 form-select form-select-lg",children:(I=n.categorylist)==null?void 0:I.map(s=>e.jsx("option",{value:s.title,children:s.title},s._id))})]}),e.jsx(p.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,ease:"easeOut"},className:"sub-tabs",children:(E=n.subcategorylist)==null?void 0:E.map(s=>{const t=s.title;return e.jsx("button",{onClick:()=>m(t),className:u===t?"active":"",children:s.title},s._id)})}),o&&e.jsxs("div",{className:"d-md-flex justify-content-between align-items-center",children:[e.jsx("div",{className:"pe-md-3 pb-md-0 pb-4",children:e.jsx("span",{style:{fontFamily:"Manrope, sans-serif",fontWeight:700,fontSize:"28px",lineHeight:"40px",letterSpacing:"-0.04em",color:"rgba(0, 51, 102, 1)",width:"80%",display:"inline-block",wordBreak:"break-word",whiteSpace:"normal"},children:`Showing search results for '${f}'`})}),e.jsxs("button",{className:`d-flex align-items-center refresh-icon bg-danger text-white border-0 mb-md-0 mb-4 px-4 py-3 red-button ${B?"rotate-animation":""}`,onClick:O,children:["Clear Search",e.jsx("span",{className:"fw-light d-flex align-items-center ms-2",children:e.jsx(ee,{size:20})})]})]}),e.jsx(p.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,ease:"easeOut"},className:"accordion",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 py-md-4",children:[e.jsx(Q,{as:"h2",className:"light-blue letter-space faq-title fw-bold fs-2 lh-0 py-2 mb-4",children:u}),e.jsx("a",{className:"light-blue button-booknow Join-Our-Team button-booknow-about text-decoration-none fw-semibold text-start mb-0 lh-lg",href:D,children:e.jsx(J,{text:"Visit Page"})})]}),e.jsx(p.div,{variants:P,initial:"hidden",animate:"show",className:"col-md-8 py-md-2",children:((L=n==null?void 0:n.faqlisting)==null?void 0:L.length)>0?n.faqlisting.map((s,t)=>Y(`q${t}`,s.title,s.description)):e.jsx("p",{className:"text-muted no-faq",children:"No FAQs available."})})]})})]}),o&&e.jsx("div",{className:"col-md-8 offset-md-4 px-2 red-txt",children:e.jsx("a",{href:"#",onClick:O,children:"View All Questions"})})]}),e.jsx("div",{className:"col-md-4"}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:`looking-for px-md-5 py-md-4 mt-md-5 mt-4 p-4 ${o?"ms-md-1 ms-0 faq search":"ms-md-4 ms-0 faq main"}`,children:[e.jsxs("h2",{className:"light-blue letter-space faq-title fw-bold fs-2 lh-0 py-2",children:["Didn’t Find What You’re",e.jsx("br",{}),"Looking For?"]}),e.jsxs("p",{className:"light-blue fs-4 font-500 letter-space",children:["Write to us at"," ",e.jsx("a",{className:"Crimson text-decoration-none me-3 ms-1",href:"mailto:info@orixindia.com",children:"info@orixindia.com"})," ","Or"," ",e.jsx("a",{className:"Crimson text-decoration-none ms-1",href:"/contact-us",children:"get in touch"})]})]})})]})})})]})};export{ie as default};
